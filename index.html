<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Ofert</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

</head>
<body>
    <div class="background-image" style="background-image: url('family.jpg');"></div>
    <div class="form-container photovoltaics-generator">
      <h2>Generator Fotowoltaika</h2>
      <form id="photovoltaicsForm">
          <div class="input-group">
              <label for="userName">Imię i Nazwisko:</label>
              <input type="text" id="userName" name="userName" required>
          </div>
          <div class="input-group">
              <label for="pricePV">Cena:</label>
              <input type="number" id="pricePV" name="pricePV" required>
          </div>
          <!-- ... istniejący kod ... -->

          <div class="input-group">
            <label for="powerRange">Moc paneli:</label>
            <input type="range" id="powerRange" name="powerRange" min="1" max="21" value="1" oninput="updatePowerOutput(this.value)" required>
            <span id="powerOutput">0.455 kW</span> <!-- Wartość początkowa dla jednego panelu -->
        </div>
        
<div class="input-group">
  <label for="installationType">Typ instalacji:</label>
  <select id="installationType" name="installationType">
      <option value="dach">Dach</option>
      <option value="grunt">Grunt</option>
      
  </select>
  </div>

  <div class="input-group">
    <label for="panelType">Rodzaj paneli</label>
    <select id="panelType" name="panelType">
        <option value="canadian">Canadian 455</option>
        <option value="zn-shine">ZN-SHINE 450</option>
        
    </select>
    

  <div class="input-group">
    <label for="inverterType">Rodzaj falownika:</label>
    <select id="inverterType" name="inverterType">
      <option value="standard">Falownik zwykły</option>
      <option value="fronius">Falownik Fronius</option>
      <option value="hybrid">Falownik hybrydowy</option>
      <option value="hybridWithStorage">Falownik hybrydowy z magazynem</option>
    </select>
  </div>
</div>

<!-- ... istniejący kod ... -->

          <button type="button" id="generatePhotovoltaicsPdfButton">Generuj PDF</button>
      </form>
  </div>
  
    <div class="form-container">
        <h2>Generator Ofert</h2>
        <form id="offerForm">
          <div id="offer-number"></div>

            <div class="input-group">
                <label for="userNamePC">Imię i Nazwisko:</label>
                <input type="text" id="userNamePC" name="userNamePC" autocomplete="name" required>
            </div>
            <div class="input-group">
                <label for="price">Cena:</label>
                <input type="number" id="price" name="price" required>
            </div>
            <div class="input-group">
                <label for="pdfType">Typ oferty:</label>
                <select id="pdfType" name="pdfType" autocomplete="off">
                  <option value="Toshiba 3F" id="device-name">Toshiba 3F</option>
                  <option value="Toshiba 1F" id="device-name">Toshiba 1F</option>
                  <option value="Mitsubishi-hydrobox" id="device-name">Mitsubishi-hydrobox</option>
                  <option value="Mitsubishi-cylinder" id="device-name">Mitsubishi-cylinder</option>
                  <option value="Mitsubishi-ecoinverter" id="device-name">Mitsubishi-ecoinverter</option>
                  <option value="ATLANTIC" id="device-name">ATLANTIC</option>
                  <option value="GALMET-PRIMA" id="device-name">GALMET-PRIMA</option>
                  <option value="HEIZTECHNIK" id="device-name">HEIZTECHNIK</option>
                  <option value="VIESSMANN" id="device-name">VIESSMANN</option>
                </select>
                <select id="powerOptions" name="powerOptions" autocomplete="off">
                    <!-- Opcje zostaną tutaj dodane przez JavaScript -->
                  </select>
                  
              </div>
            <button type="button" id="generatePdfButton">Generuj PDF</button>
        </form>
    </div>
    <div id="pdfTemplate" style="display:none;">
        <div class="header-info">
            <div class="seller-info">
                <strong>Sprzedawca:</strong> "KAMAN" SP. Z O.O.<br>
                Opiekun klienta: Beata Mularczyk<br>
                Tel: 884996055<br>
                Email: bmularczyk.kaman@gmail.com
            </div>
            <div class="offer-details">
                <strong>Data wystawienia:</strong> <span id="issueDate"></span><br>
                <strong>Numer oferty:</strong> 12345
            </div>
            <h1>OFERTA DLA KLIENTA</h1>
            <div class="client-info">
                Nabywca: <span id="clientName">PODSIADŁO ŁUKASZ</span><br>
                Adres: <span id="clientAddress">BOLMIN 69, 26-060 CHĘCINY</span><br>
                Tel: 606-636-459<br>
                Email: lukaszpodsiadlooo@gmail.com
            </div>
        </div>
        <div id="tableContainer"></div>
        <table class="additional-options-table">
            <thead>
                <tr>
                    <th>Lp.</th>
                    <th>Nazwa</th>
                    <th>Cena</th>
                </tr>
            </thead>
            <tbody id="additionalOptionsBody">
            </tbody>
        </table>
        <div class="footer">
            Uwagi: CENA KOŃCOWA ZA INSTALACJĘ: <span id="pdfPrice"></span> BRUTTO Z 8% VAT<br>
            WYCENA WAŻNA 14 DNI<br>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
    <script src="script.js" type="module"></script>
    <script src="scriptPV.js" type="module"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
  const pdfTypeSelect = document.getElementById('pdfType');
  const deviceNameSpan = document.getElementById('device-name');
  const powerOptionsSelect = document.getElementById('powerOptions');

  function updateOffer() {
    const selectedOption = pdfTypeSelect.options[pdfTypeSelect.selectedIndex];
    const selectedPowerOption = powerOptionsSelect.value;
    deviceNameSpan.textContent = `${selectedOption.text} ${selectedPowerOption}`;
    // Tutaj możesz dodać więcej logiki do generowania oferty na podstawie wybranych opcji
  }

  pdfTypeSelect.addEventListener('change', updatePowerOptions);
  powerOptionsSelect.addEventListener('change', updateOffer);

  // Inicjalizacja opcji mocy i oferty przy załadowaniu strony
  updatePowerOptions();
  updateOffer();
});

      </script>
     <script>
      document.addEventListener('DOMContentLoaded', function () {
  const installationTypeSelect = document.getElementById('installationType');
  const inverterTypeSelect = document.getElementById('inverterType');
  const panelTypeSelect = document.getElementById('panelType');

  panelTypeSelect.addEventListener('change', function () {
        updatePanelType();
    });
  
    function updatePanelType() {
        const selectedPanelType = panelTypeSelect.value;
        // Tutaj możesz użyć zmiennej selectedPanelType do dalszych działań
        console.log("Wybrany typ panelu:", selectedPanelType);
        // Na przykład: Możesz tutaj zaktualizować inne elementy interfejsu użytkownika lub wywołać inną funkcję
    }

    // Inicjalizacja stanu początkowego
    updatePanelType();

  function updateInverterOptions() {
    // Pobranie aktualnie wybranej opcji instalacji
    const selectedInstallation = installationTypeSelect.value;
    // Wyczyść obecne opcje falownika
    inverterTypeSelect.innerHTML = '';

    // Definiowanie opcji falownika w zależności od wybranej instalacji
    if (selectedInstallation === 'dach' || selectedInstallation === 'grunt') {
        // Tutaj używamy już zaktualizowanych wartości
        const optionStandard = document.createElement('option');
        optionStandard.value = 'standard';
        optionStandard.textContent = 'Falownik zwykły';
        inverterTypeSelect.appendChild(optionStandard);

        const optionFronius = document.createElement('option');
        optionFronius.value = 'fronius';
        optionFronius.textContent = 'Falownik Fronius';
        inverterTypeSelect.appendChild(optionFronius);

        const optionHybrid = document.createElement('option');
        optionHybrid.value = 'hybrid';
        optionHybrid.textContent = 'Falownik hybrydowy';
        inverterTypeSelect.appendChild(optionHybrid);    

        const optionHybridWithStorage = document.createElement('option');
        optionHybridWithStorage.value = 'hybridWithStorage';
        optionHybridWithStorage.textContent = 'Falownik hybrydowy z magazynem';
        inverterTypeSelect.appendChild(optionHybridWithStorage);
    }
}


  // Dodanie nasłuchiwania zmiany wyboru instalacji
  installationTypeSelect.addEventListener('change', updateInverterOptions);

  // Inicjalizacja opcji falownika przy załadowaniu strony
  updateInverterOptions();
});
        function updatePowerOptions() {
          var pdfType = document.getElementById('pdfType').value;
          var powerOptions = document.getElementById('powerOptions');
          powerOptions.innerHTML = ''; // Wyczyść obecne opcje
      
          var options = [];
      
          if (pdfType === 'Toshiba 3F') {
            options = ['14 kW','11 kW', '8 kW', '6 kW'];
          }
          else if (pdfType === 'Toshiba 1F') {
            options = ['11 kW', '8 kW', '6 kW'];
          }
           else if (pdfType === 'Mitsubishi-cylinder') {
            options = ['14 kW','12 kW', '10 kW', '8 kW', '6 kW'];
          }
          else if (pdfType === 'Mitsubishi-ecoinverter') {
            options = ['8 kW', '6 kW'];
          }
           else if (pdfType === 'Mitsubishi-hydrobox') {
            options = ['14 kW','12 kW', '10 kW', '8 kW', '6 kW'];
          } else if (pdfType === 'ATLANTIC') {
            options = ['15 kW', '10 kW', '8 kW', '6 kW'];
          }
          else if (pdfType === 'GALMET-PRIMA') {
            options = ['12 kW', '10 kW', '8 kW'];
          }
          else if (pdfType === 'HEIZTECHNIK') {
            options = ['14 kW', '12 kW', '9 kW'];
          }
          else if (pdfType === 'VIESSMANN') {
            options = ['13 kW', '10 kW', ];
          }
          
          
          
      
          for (var i = 0; i < options.length; i++) {
            var option = document.createElement('option');
            option.value = options[i];
            option.text = options[i];
            powerOptions.appendChild(option);
          }
        }
      
        function updateDeviceName() {
          var pdfType = document.getElementById('pdfType').value;
          var power = document.getElementById('powerOptions').value;
          var deviceNameSpan = document.getElementById('device-name');
          deviceNameSpan.textContent = pdfType + ' ' + power;
        }
      
        document.addEventListener('DOMContentLoaded', function () {
          var pdfTypeSelect = document.getElementById('pdfType');
          var powerOptionsSelect = document.getElementById('powerOptions');
      
          pdfTypeSelect.addEventListener('change', function () {
            updatePowerOptions();
            updateDeviceName(); // Aktualizuj nazwę urządzenia po zmianie typu oferty
          });
      
          powerOptionsSelect.addEventListener('change', function () {
            updateDeviceName(); // Aktualizuj nazwę urządzenia również po zmianie mocy
          });
      
          // Inicjalizacja opcji mocy i nazwy urządzenia przy załadowaniu strony
          updatePowerOptions();
          updateDeviceName();
        });
        // ... istniejący kod JavaScript ...

// ... istniejący kod JavaScript ...

      </script>
<script>
    function updatePowerOutput(value) {
    const powerPerPanel = 0.455; // Moc jednego panelu w kW
    const totalPower = value * powerPerPanel; // Całkowita moc w zależności od liczby paneli
    document.getElementById('powerOutput').textContent = `${totalPower.toFixed(3)} kW`; // Ustawienie tekstu
}


  
</script>     

      
</body>
</html>











